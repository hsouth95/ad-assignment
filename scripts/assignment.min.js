var harrison=harrison||{};harrison.assignment=harrison.assignment||{},harrison.assignment.auth=harrison.assignment.auth||{},harrison.assignment.auth.CLIENT_ID="CLIENT_ID",harrison.assignment.auth.SCOPE="https://www.googleapis.com/auth/userinfo.email",harrison.assignment.auth.API_ROOT="//"+window.location.host+"/_ah/api",harrison.assignment.auth.signedIn=!1,harrison.assignment.auth.initalAuthCallbacks,harrison.assignment.auth.authorize=function(n,a){gapi.auth.authorize({client_id:harrison.assignment.auth.CLIENT_ID,scope:harrison.assignment.auth.SCOPE,immediate:n},a)},harrison.assignment.auth.isUserAuthed=function(){gapi.client.oauth2.userinfo.get().execute(function(n){n.code?harrison.assignment.auth.signedIn=!1:harrison.assignment.auth.signedIn=!0;var a=harrison.assignment.auth.initalAuthCallbacks;if(a&&a.length>0)for(var i=0,s=a.length;i<s;i++)a[i]();else console.warn("No initial callback function is set for authentication")})},harrison.assignment.auth.signOut=function(n){harrison.assignment.auth.signedIn&&(gapi.auth.setToken(null),harrison.assignment.auth.signedIn=!1,n&&"function"==typeof n&&n())},harrison.assignment.auth.signIn=function(n){harrison.assignment.auth.signedIn||harrison.assignment.auth.authorize(!1,n)},harrison.assignment.auth.init=function(){var n,a=function(){0==--n&&harrison.assignment.auth.authorize(!0,harrison.assignment.auth.isUserAuthed)};n=2,gapi.client.load("metaapi","v1",a,harrison.assignment.auth.API_ROOT),gapi.client.load("oauth2","v2",a)};var harrison=harrison||{};harrison.assignment=harrison.assignment||{},harrison.assignment.header=harrison.assignment.header||{},harrison.assignment.header.init=function(n){harrison.assignment.auth.initalAuthCallbacks=[harrison.assignment.header.setupAuthentication,n],harrison.assignment.auth.init()},harrison.assignment.header.setupAuthentication=function(){harrison.assignment.auth.signedIn?$("#login-status").html("Sign Out"):$("#login-status").html("Sign In")},$("#login-status").click(function(){harrison.assignment.auth.signedIn?harrison.assignment.auth.signOut(harrison.assignment.header.setupAuthentication):harrison.assignment.auth.signIn(harrison.assignment.auth.isUserAuthed)});